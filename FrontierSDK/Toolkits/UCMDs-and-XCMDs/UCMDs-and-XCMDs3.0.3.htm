<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta name=Title content="UCMDs &amp; XCMDs 3">
<meta name=Keywords content="">
<meta http-equiv=Content-Type content="text/html; charset=macintosh">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="UCMDs-and-XCMDs3.0.3_files/filelist.xml">
<link rel=Edit-Time-Data href="UCMDs-and-XCMDs3.0.3_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>UCMDs &amp; XCMDs 3</title>
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:HyphenationZone>0</w:HyphenationZone>
  <w:DoNotHyphenateCaps/>
  <w:DrawingGridHorizontalSpacing>6 pt</w:DrawingGridHorizontalSpacing>
  <w:DrawingGridVerticalSpacing>6 pt</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>0</w:DisplayVerticalDrawingGridEvery>
  <w:UseMarginsForDrawingGridOrigin/>
  <w:DoNotShadeFormData/>
  <w:Compatibility>
   <w:OrigWordTableRules/>
   <w:NoLeading/>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:SpacingInWholePoints/>
   <w:ShowBreaksInFrames/>
   <w:SuppressTopSpacing/>
   <w:SuppressTopSpacingMac5/>
   <w:MWSmallCaps/>
   <w:UsePrinterMetrics/>
   <w:WW6BorderRules/>
   <w:FootnoteLayoutLikeWW8/>
   <w:ShapeLayoutLikeWW8/>
   <w:AlignTablesRowByRow/>
   <w:ForgetLastTabAlignment/>
   <w:DoNotUseHTMLParagraphAutoSpacing/>
   <w:LayoutRawTableWidth/>
   <w:LayoutTableRowsApart/>
   <w:UseWord97LineBreakingRules/>
  </w:Compatibility>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:"Times New Roman";
	panose-1:0 2 2 6 3 5 4 5 2 3;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:50331648 0 0 0 1 0;}
@font-face
	{font-family:Geneva;
	panose-1:0 2 11 5 3 3 4 4 4 2;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:50331648 0 0 0 1 0;}
@font-face
	{font-family:"New York";
	panose-1:0 2 2 5 2 6 3 5 6 2;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:50331648 0 0 0 1 0;}
@font-face
	{font-family:Palatino;
	panose-1:0 2 0 5 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:50331648 0 0 0 1 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"New York";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-outline-level:1;
	font-size:12.0pt;
	font-family:Helvetica;
	mso-font-kerning:0pt;
	text-decoration:underline;
	text-underline:single;}
h2
	{mso-style-next:Normal;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	font-size:12.0pt;
	font-family:Helvetica;}
h3
	{mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.25in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	font-size:12.0pt;
	font-family:"New York";}
h4
	{mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.25in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-outline-level:4;
	font-size:12.0pt;
	font-family:"New York";
	text-decoration:underline;
	text-underline:single;
	font-weight:normal;}
h5
	{mso-style-next:Normal;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	mso-outline-level:5;
	font-size:10.0pt;
	font-family:"New York";}
 /* Page Definitions */
@page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-page-numbers:1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
</head>

<body bgcolor=white lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<h1 style='margin-top:.25in;margin-right:0in;margin-bottom:9.0pt;margin-left:
0in'><span style='font-size:18.0pt;text-decoration:none;text-underline:none'>UCMDs
&amp; XCMDs 3.0.3<o:p></o:p></span></h1>

<h2 style='margin-top:.25in;margin-right:0in;margin-bottom:9.0pt;margin-left:
0in'><span style='font-size:18.0pt'>UserLand Software, Inc.<o:p></o:p></span></h2>

<h3 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;font-weight:normal'>©
copyright 1992-94, UserLand Software, Inc.<o:p></o:p></span></h3>

<h3 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;font-weight:normal'>UserLand
Software is the developer of the UserLand Frontier scripting system. The
company is located at 555 Bryant #237, Palo Alto, CA 94301. 415-326-7791,
415-326-7793 (fax). UserLand, Frontier, Frontier Runtime and Frontier Extras
are trademarks of UserLand Software, Inc. Other product names may be trademarks
or registered trademarks of their owners.<o:p></o:p></span></h3>

<h3 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;font-weight:normal'>Email:
userland.dts@applelink.apple.com. If you’re an AppleLink user, check out the
UserLand Discussion Board under the Third Parties icon. CompuServe users enter
GO USERLAND at any ! prompt. The UserLand Forum is in the Computing Support
section on CompuServe. On America On-Line, enter the keyword USERLAND.<o:p></o:p></span></h3>

<h3 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;font-weight:normal'>Comments,
questions and suggestions are welcome!<o:p></o:p></span></h3>

<h2 style='margin-top:.25in;margin-right:0in;margin-bottom:9.0pt;margin-left:
0in'><span style='font-size:18.0pt'>Background<o:p></o:p></span></h2>

<h3 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;font-weight:normal'>Frontier
supports two kinds of code extensions: UCMDs and XCMDs.<o:p></o:p></span></h3>

<h3 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;font-weight:normal'>In
both models, you use a C or Pascal compiler to create a code resource in a
Macintosh file, and then use a Frontier “droplet” to copy the code resource
into the Frontier object database. Once the code is in the database, your
scripts can call them, send parameters, and receive returned values. Several
example code extensions are included in this folder.<o:p></o:p></span></h3>

<h3 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;font-weight:normal'>XCMD
support in Frontier allows script writers to tap into part of the large base of
HyperCard 1.0-compatible code extensions. The architecture of XCMDs is
well-understood, and for many programmers it represents a very easy way to
extend the UserTalk language.<o:p></o:p></span></h3>

<h3 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;font-weight:normal'>But
we didn’t want to stop there. We felt that there were limits to XCMDs that
could easily be erased, and there were good reasons for us to invest in a new
design for code extensions, one that is very compatible with the System 7 Apple
Event Manager. Those are UCMDs. The “U” is for “UserTalk,” the scripting
language that forms the heart of Frontier.<o:p></o:p></span></h3>

<h3 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;font-weight:normal'>This
folder, which is part of Frontier SDK, contains a set of tools, sample code and
projects that can help get you started writing XCMDs and UCMDs that work with
the upcoming release of Frontier.<o:p></o:p></span></h3>

<h3 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;font-weight:normal'>System.extensions
is a new standard table in Frontier 2.0 and 3.0. All UserLand-supplied code
extensions are loaded into this table. You can load things into this table too,
in fact we suggest that you do. It makes sense to keep all code extensions in
one place in the user’s object database. <o:p></o:p></span></h3>

<h3 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;font-weight:normal'>As
usual, the sample code is provided for Think C 6.0, but the techniques can be
adapted for use with any Macintosh development system that can produce code
resources.<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>As you browse thru the folders in the UCMDs &amp;
XCMDs folder, you’ll see Frontier install files for each of the extensions. To
install one in your object database just double-click on its icon in the
Finder.<o:p></o:p></span></h4>

<h2 style='margin-top:.25in;margin-right:0in;margin-bottom:9.0pt;margin-left:
0in'><span style='font-size:18.0pt'>UCMDs or XCMDs?<o:p></o:p></span></h2>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>Tradeoffs<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>If you’re writing a new code extension for Frontier,
you can write either a UCMD or an XCMD. Naturally, UCMDs are a better fit for
Frontier. But XCMDs can be faster and smaller, and a lot of people already know
how to write XCMDs. In this section we list the advantages of each kind of code
extension.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>Advantages of
XCMDs:<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>XCMDs
can be faster, ranging from 1.3 times faster to 1.9 times faster. See the
benchmark script at system.extensions.stringOps.test2 for background.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>XCMDs
are usually smaller. The minimum code size for a UCMD is approximately 2500
bytes, XCMDs can be as small as 500 bytes.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>XCMDs
are a widely understood kind of code extension. For many people there’s nothing
new to learn.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>Advantages
of<span style="mso-spacerun: yes">&nbsp; </span>UCMDs:<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>One
code resource can implement many functions. See trigCmd for an example.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>Parameters
and returned values can be of a many different types, unlike XCMDs which view
all data as strings.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>They
can return multiple values, and scripts can access these cleanly using
Frontier’s complexEvent built-in verb.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>They
can have globals used to communicate between functions contained within the
UCMD.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>They
use the IAC Tools library, without modifications, so code can move easily from
applications to code extensions and back very easily.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>Once
you learn how to write a UCMD, you’ve learned how to program Apple Events.
Since this is the form of interapplication communication that both UserLand and
Apple are<span style="mso-spacerun: yes">&nbsp; </span>evangelizing, this
feature has tremendous appeal.<o:p></o:p></span></h4>

<h2 style='margin-top:.25in;margin-right:0in;margin-bottom:9.0pt;margin-left:
0in'><span style='font-size:18.0pt'>UCMDs<o:p></o:p></span></h2>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>The UCMD Toolkit<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>A small toolkit is included in this package called
the UCMD Toolkit.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>The main () routine for your code extension is in
ucmd.c. It sets up your globals, copies the event and reply pointers into the
IACglobals record, and then calls your routine UCMDmain.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>An additional routine, runscript, is provided in
ucmdrunscript.c. If your UCMD wants to call back to Frontier, include this file
in your project. An example is included in the scriptRunner UCMD.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Over time, the UCMD Toolkit may grow in size. If you
have any suggestions for services that the UCMD Toolkit could provide, please
let us know.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Your UCMD main file should #include ucmd.h. It
contains prototypes for the two routines supplied in the UCMD Toolkit folder,
and also brings in the header file for the IAC Tools library.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>UCMDs and IAC
Tools<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>UCMDs are built on top of the IAC Tools library. Each
project file should include as many of the iacxxx.c files as necessary to build
the project. In our sample code we include all the IAC Tools files; we depend
on THINK C’s smart linking to exclude the code for modules that we don’t call.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>When it’s time to release your UCMD, you might want
to copy the IAC Tools routines you depend on into a separate file to make the
resulting UCMD as small as possible.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>Using a compiled
IAC Tools Library<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>If you’re using a compiled form of IAC Tools as a
library in your project, make sure it’s built with A4 addressing, not A5
addressing. One of our test sites mistakenly built a UCMD with A5 addressing.
Things didn’t work too well! <o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>There is no specific switch to turn on A4 addressing
in THINK C. In the Set Project Type dialog, be sure that “Code Resource” is
checked off before building the IAC Tools library.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>The Apple Event
refcon<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Each Apple Event comes with three parameters: a
pointer to the incoming Apple Event record, a pointer to the reply record, and
a 4-byte refcon. In Frontier 2.0 and 3.0, this refcon is always 0. It’s
reserved for future versions of Frontier. If you have any ideas for how we
should use this refcon, please let us know.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>Writing a new
UCMD<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-15.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>1.<span style='mso-tab-count:1'>&nbsp; </span>In
the Finder, copy one of the folders in the UCMD folder using the Finder’s Duplicate
command. Change the name of the project file and the C source file to reflect
the name of your UCMD.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-15.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>2.<span style='mso-tab-count:1'>&nbsp; </span>Open
the project file. Choose the Set Project Type command in THINK C’s Project
menu. Change the name item to reflect the name of your UCMD. <o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-15.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>3.<span style='mso-tab-count:1'>&nbsp; </span>When
you’re ready to build the project, select the Build Code Resource command from
the Project menu. Name the file xxx.ucmd, where xxx is the name of your UCMD.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-15.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>4.<span style='mso-tab-count:1'>&nbsp; </span>To
load the UCMD into your Frontier object database, drag and drop the xxx.ucmd
file onto the Load CMD Droplet. <o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>UCMD glue scripts<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>The glue scripts for UCMDs work much the same way as
glue scripts for Apple Event-aware programs, with one important exception.
Instead of the target of the appleEvent call being the creator id of a program,
the target is the address of the object database cell that holds the UCMD code.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>The stringOps UCMD implements a single Apple Event,
it converts its string parameter to upper case. There are two entries in the
system.extensions.stringOps table, allUpper and code.<o:p></o:p></span></h4>

<h5 align=center style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;text-align:center'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:403pt;
 height:135pt'>
 <v:imagedata src="UCMDs-and-XCMDs3.0.3_files/image001.gif" o:althref="UCMDs-and-XCMDs3.0.3_files/image002.pct"
  o:title=""/>
 <w:bordertop type="single" width="12"/>
 <w:borderleft type="single" width="12"/>
 <w:borderbottom type="single" width="12"/>
 <w:borderright type="single" width="12"/>
</v:shape><![endif]--><![if !vml]><img width=405 height=137
src="UCMDs-and-XCMDs3.0.3_files/image003.gif" v:shapes="_x0000_i1025"><![endif]><span
style='font-size:12.0pt;font-family:Palatino;font-weight:normal'><o:p></o:p></span></h5>

<h5 align=center style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;text-align:center'><span
style='font-size:12.0pt;font-family:Palatino;font-weight:normal'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></h5>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Here’s how the allUpper script connects outside
callers to the UCMD:<o:p></o:p></span></h4>

<h5 align=center style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;text-align:center'><!--[if gte vml 1]><v:shape
 id="_x0000_i1026" type="#_x0000_t75" style='width:380pt;height:121pt'>
 <v:imagedata src="UCMDs-and-XCMDs3.0.3_files/image004.gif" o:althref="UCMDs-and-XCMDs3.0.3_files/image005.pct"
  o:title=""/>
 <w:bordertop type="single" width="12"/>
 <w:borderleft type="single" width="12"/>
 <w:borderbottom type="single" width="12"/>
 <w:borderright type="single" width="12"/>
</v:shape><![endif]--><![if !vml]><img width=382 height=123
src="UCMDs-and-XCMDs3.0.3_files/image006.gif" v:shapes="_x0000_i1026"><![endif]><span
style='font-size:12.0pt;font-family:Palatino;font-weight:normal'><o:p></o:p></span></h5>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>You can call it from the Quick Script window as
follows:<o:p></o:p></span></h4>

<h5 align=center style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;text-align:center'><!--[if gte vml 1]><v:shape
 id="_x0000_i1027" type="#_x0000_t75" style='width:442pt;height:121pt'>
 <v:imagedata src="UCMDs-and-XCMDs3.0.3_files/image007.gif" o:althref="UCMDs-and-XCMDs3.0.3_files/image008.pct"
  o:title=""/>
 <w:bordertop type="single" width="12"/>
 <w:borderleft type="single" width="12"/>
 <w:borderbottom type="single" width="12"/>
 <w:borderright type="single" width="12"/>
</v:shape><![endif]--><![if !vml]><img width=444 height=123
src="UCMDs-and-XCMDs3.0.3_files/image009.gif" v:shapes="_x0000_i1027"><![endif]><span
style='font-size:12.0pt;font-family:Palatino;font-weight:normal'><o:p></o:p></span></h5>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>By convention, all UCMD and XCMD code objects are
loaded into a sub-table in system.extensions with the same name as the code
resource. Inside the sub-table, the name of the XCMD or UCMD is “code.” For
UCMDs there are one or more glue scripts that call the appleEvent built-in to
talk to the UCMD code. The only difference for XMCDs is that their single glue
script uses the callXCMD Frontier kernel call.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>These conventions are supported by the Load CMD
droplet.<o:p></o:p></span></h4>

<h2 style='margin-top:.25in;margin-right:0in;margin-bottom:9.0pt;margin-left:
0in'><span style='font-size:18.0pt'>XCMDs<o:p></o:p></span></h2>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>XCMDs versus
XFCNs<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>We use the term “XCMD” to refer to all X-things, as
seems to be the convention in the Hyper world.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Why use XCMDs instead of XFCNs? There doesn’t seem to
be a good reason. All Frontier scripts are expected to return a value, even if
it’s just a boolean true. Therefore, if you’re writing a new XCMD code
extension, we suggest that you return a value, and use the XFCN shells we
provide as a starting point.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>XCMD callbacks<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>HyperCard 1.0 callbacks are supported to the extent
that they make sense in the Frontier environment, including most of the
HyperTalk Utilities and all of the String Utilities and String Conversions. In
addition, the HyperCard 2.0 SendHCEvent callback is supported. <o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>RunHandler and the Field Utilities are not currently
supported. Unsupported callbacks are well-behaved; they return NIL and set the
return code to xresNotImp.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>When calling EvalExpr, SendCardMessage, or
SendHCMessage, the message or expression must be a valid UserTalk script. All
three of these callbacks execute the script, but only EvalExpr returns the
result.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>When getting or setting a global, any value in the
current script’s scope can be named. If SetGlobal is called with a name that
isn’t defined and isn’t a dotted database path, the value is placed in the
scratchpad table. If GetGlobal is called with a name that isn’t defined, an
error is returned.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>In general, we do not recommend that you call
WaitNextEvent in your XCMD, but if you do it’s important that you use the
SendHCEvent callback to allow Frontier to processes events that you don’t
respond to.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>Writing a new
XCMD<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-15.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>1.<span style='mso-tab-count:1'>&nbsp; </span>In
the Finder, copy one of the folders in the XCMD folder using the Finder’s
Duplicate command. Change the name of the project file and the C source file to
reflect the name of your XCMD.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-15.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>2.<span style='mso-tab-count:1'>&nbsp; </span>Open
the project file. Choose the Set Project Type command in THINK C’s Project
menu. Change the name item to reflect the name of your XCMD. <o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-15.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>3.<span style='mso-tab-count:1'>&nbsp; </span>When
you’re ready to build the project, select the Build Code Resource command from
the Project menu. Name the file xxx.xcmd, where xxx is the name of your XCMD.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-15.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>4.<span style='mso-tab-count:1'>&nbsp; </span>To
load the XCMD into your Frontier object database, drag and drop the xxx.xcmd
file onto the Load CMD Droplet. <o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>The callXCMD
built-in<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>The callXCMD verb returns the value returned by the
XCMD or XFCN — a string. If an XCMD doesn’t return a value, callXCMD will
return true. If an XFCN doesn’t return a value, callXCMD returns the empty
string.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>The first parameter to callXCMD is the address of the
XCMD binary object. It is followed by the XCMD’s parameters, all of which are
implicitly coerced to strings.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>HyperCard 1.0 callbacks are supported to the extent
that they apply to the Frontier environment. This includes EvalExpr,
SendCardMessage, SendHCMessage, the memory and string utilities, and the string
conversions. RunHandler and the field utilities are not currently supported.
Unsupported callbacks are well-behaved; that is, they have no effect or return
null values as appropriate.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Using the GetGlobal and SetGlobal callbacks, an XCMD
can get or set the value of any variable defined in the context of the call,
including local variables. Using EvalExpr, SendCardMessage, or SendHCMessage,
an XCMD can execute any valid UserTalk script.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>XCMD glue scripts<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Glue scripts for XCMDs work much the same way as glue
scripts for UCMDs with two exceptions:<o:p></o:p></span></h4>

<h5 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-15.0pt'><span style='font-size:12.0pt;
font-family:Palatino;font-weight:normal'>1.<span style='mso-tab-count:1'>&nbsp; </span>Usually
there is only one glue script for each XCMD.<o:p></o:p></span></h5>

<h5 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt;text-indent:-15.0pt'><span style='font-size:12.0pt;
font-family:Palatino;font-weight:normal'>2.<span style='mso-tab-count:1'>&nbsp; </span>XCMD
glue scripts use the callXCMD built-in.<o:p></o:p></span></h5>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Here’s what the stringupper XCMD glue script looks
like:<o:p></o:p></span></h4>

<h5 align=center style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;text-align:center'><!--[if gte vml 1]><v:shape
 id="_x0000_i1028" type="#_x0000_t75" style='width:303pt;height:121pt'>
 <v:imagedata src="UCMDs-and-XCMDs3.0.3_files/image010.gif" o:althref="UCMDs-and-XCMDs3.0.3_files/image011.pct"
  o:title=""/>
 <w:bordertop type="single" width="12"/>
 <w:borderleft type="single" width="12"/>
 <w:borderbottom type="single" width="12"/>
 <w:borderright type="single" width="12"/>
</v:shape><![endif]--><![if !vml]><img width=305 height=123
src="UCMDs-and-XCMDs3.0.3_files/image012.gif" v:shapes="_x0000_i1028"><![endif]><span
style='font-size:12.0pt;font-family:Palatino;font-weight:normal'><o:p></o:p></span></h5>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>You can call it from the Quick Script window as
follows:<o:p></o:p></span></h4>

<h5 align=center style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;
margin-left:.3in;margin-bottom:.0001pt;text-align:center'><!--[if gte vml 1]><v:shape
 id="_x0000_i1029" type="#_x0000_t75" style='width:442pt;height:121pt'>
 <v:imagedata src="UCMDs-and-XCMDs3.0.3_files/image013.gif" o:althref="UCMDs-and-XCMDs3.0.3_files/image014.pct"
  o:title=""/>
 <w:bordertop type="single" width="12"/>
 <w:borderleft type="single" width="12"/>
 <w:borderbottom type="single" width="12"/>
 <w:borderright type="single" width="12"/>
</v:shape><![endif]--><![if !vml]><img width=444 height=123
src="UCMDs-and-XCMDs3.0.3_files/image015.gif" v:shapes="_x0000_i1029"><![endif]><span
style='font-size:9.0pt;font-family:Geneva;font-weight:normal'><o:p></o:p></span></h5>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>See “UCMD glue scripts,” above, for more information.
For background on glue scripts, see the “Frontier Install File Creator”
sub-folder in the Utilities &amp; Scripts folder.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>Here’s the
complete list of supported XCMD callbacks:<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>EvalExpr<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>SendCardMessage<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>SendHCMessage<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>SendHCEvent<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>GetGlobal<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>SetGlobal<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>ZeroBytes<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>ScanToReturn<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>ScanToZero<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>StringEqual<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>StringLength<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>StringMatch<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>ZeroTermHandle<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>BoolToStr<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>ExtToStr<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>LongToStr<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>NumToHex<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>NumToStr<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>PasToZero<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>PointToStr<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>RectToStr<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>ReturnToPas<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>StrToBool<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>StrToExt<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>StrToLong<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>StrToNum<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>StrToPoint<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>StrToRect<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.5in;margin-bottom:.0001pt;text-indent:-13.0pt'><span style='font-family:Palatino;
text-decoration:none;text-underline:none'>•<span style='mso-tab-count:1'>&nbsp; </span>ZeroToPas<o:p></o:p></span></h4>

<h2 style='margin-top:.25in;margin-right:0in;margin-bottom:9.0pt;margin-left:
0in'><span style='font-size:18.0pt'>Sample UCMDs &amp; XCMDs<o:p></o:p></span></h2>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>stringOps UCMD<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>This UCMD implements a single Apple Event, it
converts the single string parameter to upper case.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Enter the following into the Quick Script window. It
displays HELLO WORLD! in the main window.<o:p></o:p></span></h4>

<h5 style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt'><span style='font-size:9.0pt;font-family:Geneva;
font-weight:normal'>msg (stringOps.allUpper (&quot;Hello World!&quot;))<o:p></o:p></span></h5>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>scriptRunner UCMD<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Demonstrates the use of the runscript routine in the
UCMD Toolkit.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>The scriptRunner.do glue script takes one parameter,
a string containing a UserTalk script which will be executed.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Enter the following into the Quick Script window. It
displays a random number between 1 and 100 in Frontier’s main window.<o:p></o:p></span></h4>

<h5 style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt'><span style='font-size:9.0pt;font-family:Geneva;
font-weight:normal'>scriptRunner.do (&quot;msg (random (1, 100))&quot;)<o:p></o:p></span></h5>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>trigCmd UCMD<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>This is the UCMD version of the Trig sample
application. <o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Check out trigCmd.examples for performance testing
script and a oneLiners outline.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>wordInfo UCMD<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>This UCMD implements three Apple Events that locate
and count words in a string of text. Check out wordInfo.examples for a
oneLiners outline and a script that tests UCMDs for memory leakage.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Note: we’ve also included wordInfo as an XCMD so you
can easily compare the two different approaches.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>stringupper XCMD<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>This XCMD converts the single string parameter to
uppercase. <o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Enter the following into the Quick Script window. It
displays HELLO WORLD! in the main window.<o:p></o:p></span></h4>

<h5 style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt'><span style='font-size:9.0pt;font-family:Geneva;
font-weight:normal'>msg (stringupper.get (&quot;Hello World!&quot;))<o:p></o:p></span></h5>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>This XCMD duplicates the stringOps UCMD. We used it
in determining the performance differences between XCMDs and UCMDs.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>syslargestblock
XCMD<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>This XCMD returns the size of the largest block in
the Macintosh system heap. It’s the same number that’s displayed by the About
This Macintosh command in the Finder’s  menu.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>To call this XCMD from a script, we’ve provided a
glue script that’s called as follows:<o:p></o:p></span></h4>

<h5 style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt'><span style='font-size:9.0pt;font-family:Geneva;
font-weight:normal'>syslargestblock.get ()<o:p></o:p></span></h5>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>sysfreemem XCMD<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>This XCMD returns the total number of free bytes in
the Macintosh system heap.<o:p></o:p></span></h4>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>To call this XCMD from a script, we’ve provided a
glue script that’s called as follows:<o:p></o:p></span></h4>

<h5 style='margin-top:6.0pt;margin-right:0in;margin-bottom:0in;margin-left:
.3in;margin-bottom:.0001pt'><span style='font-size:9.0pt;font-family:Geneva;
font-weight:normal'>sysfreemem.get ()<o:p></o:p></span></h5>

<span style='font-size:18.0pt;font-family:Helvetica;mso-ansi-language:EN-US'><b><br
clear=ALL style='page-break-before:always'>
</b></span>

<h2 style='margin-top:.25in;margin-right:0in;margin-bottom:9.0pt;margin-left:
0in'><span style='font-size:18.0pt'>UCMDs &amp; XCMDs 3.0.3 -- 7/27/94 dmb<o:p></o:p></span></h2>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>Universal
Headers, PowerPC compatibility<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>UCMDs and XCMDscan now be built using Apple’s
Universal Headers under Symantec C/C++ 7.0 or Metrowerks C/C++ 1.0 68K or PPC
(UCMDs only). Native UCMDs can be generated in the Code Warrior environment.
Also, ANSI-conformant function prototypes are used thoughout the code, so
strict error checking can be enforced in your projects.<o:p></o:p></span></h4>

<h2 style='margin-top:.25in;margin-right:0in;margin-bottom:9.0pt;margin-left:
0in'><span style='font-size:18.0pt'>UCMDs &amp; XCMDs 2.1 -- 11/3/93 DW<o:p></o:p></span></h2>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>Convert the Load
CMD Droplet to be faceless<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>Using the new Droplet Developer kit.<o:p></o:p></span></h4>

<h3 style='margin-top:14.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino'>Test all sample
UCMDs and XCMDs with Frontier 2.1<o:p></o:p></span></h3>

<h4 style='margin-top:7.0pt;margin-right:0in;margin-bottom:0in;margin-left:
0in;margin-bottom:.0001pt'><span style='font-family:Palatino;text-decoration:
none;text-underline:none'>They work!<o:p></o:p></span></h4>

</div>

</body>

</html>
